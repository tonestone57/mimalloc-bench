diff --git a/random.c b/random.c
index 8883531..abda53e 100644
--- a/random.c
+++ b/random.c
@@ -1,13 +1,20 @@
 #include <errno.h>
 #include <string.h>

+#ifdef __HAIKU__
+#include <stdlib.h>
+#else
+#include <sys/random.h>
+#endif
+
 #include "chacha.h"
 #include "random.h"
 #include "util.h"

-#include <sys/random.h>
-
 static void get_random_seed(void *buf, size_t size) {
+#ifdef __HAIKU__
+    arc4random_buf(buf, size);
+#else
     while (size) {
         ssize_t r;

@@ -22,6 +29,7 @@ static void get_random_seed(void *buf, size_t size) {
         buf = (char *)buf + r;
         size -= r;
     }
+#endif
 }

 void random_state_init(struct random_state *state) {
